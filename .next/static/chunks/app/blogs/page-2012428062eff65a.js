(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{4765:function(t,e,n){Promise.resolve().then(n.bind(n,8062))},3765:function(t,e,n){"use strict";n.d(e,{AuthUserProvider:function(){return i},a:function(){return s}});var r=n(7437),u=n(2265),c=n(5735),o=n(177);let a=(0,u.createContext)({authUser:null,isLoading:!0,signOut:async()=>{}});function i(t){let{children:e}=t,n=function(){let[t,e]=(0,u.useState)(null),[n,r]=(0,u.useState)(!0),a=()=>{e(null),r(!1)},i=async t=>{if(r(!0),!t){a();return}e({uid:t.uid,email:t.email}),r(!1)};return(0,u.useEffect)(()=>{let t=(0,c.Aj)(o.I,i);return()=>t()},[]),{authUser:t,isLoading:n,signOut:()=>(0,c.w7)(o.I).then(a)}}();return(0,r.jsx)(a.Provider,{value:n,children:e})}let s=()=>(0,u.useContext)(a)},8062:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var r=n(7437),u=n(7138),c=n(2265),o=n(3765),a=n(6463),i=n(9842),s=n(3778),l=n(177);function d(t){let{}=t,[e,n]=function(){!function(){let{authUser:t,isLoading:e}=(0,o.a)(),n=(0,a.useRouter)();(0,c.useEffect)(()=>{e||t||n.push("/")},[t,e,n])}();let[t,e]=(0,c.useState)([]);return(0,c.useEffect)(()=>{try{let t=(0,i.B$)(l.db,"texts");(0,s.fn)(t).then(t=>e(t))}catch(t){console.error("Failed to get the Texts collection",t)}},[]),[t,e]}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-5xl my-4 px-4",children:"All Blogs"}),null==e?void 0:e.map(t=>(0,r.jsx)("div",{className:"p-4 m-2 rounded-sm hover:bg-neutral-100",children:(0,r.jsx)(u.default,{href:"/blogs/".concat(t.id),className:"text-2xl hover:underline",children:t.title})},t.id))]})}},177:function(t,e,n){"use strict";n.d(e,{A:function(){return i},I:function(){return a},db:function(){return s}});var r=n(5236),u=n(5735),c=n(9842);let o=(0,r.ZF)({apiKey:"AIzaSyBn9JakJN-izD7uDrsFHxQEV7H5DxS-s9Q",authDomain:"collab-text-editor-b3328.firebaseapp.com",projectId:"collab-text-editor-b3328",storageBucket:"collab-text-editor-b3328.appspot.com",messagingSenderId:"443381731232",appId:"1:443381731232:web:77268257b25ef694111ec5",measurementId:"G-N6M4N3NLEE"}),a=(0,u.v0)(o),i=new u.hJ,s=(0,c.ad)()},3778:function(t,e,n){"use strict";n.d(e,{Ir:function(){return a},OM:function(){return o},fn:function(){return c}});var r=n(177),u=n(9842);let c=async t=>{try{return(await (0,u.PL)(t)).docs.map(t=>({id:t.id,...t.data()}))}catch(t){return console.error("Failed to get the Texts collection",t),[]}},o=async t=>{try{let e=(0,u.JU)(r.db,"texts",t);return(await (0,u.QT)(e)).data()}catch(t){return console.error("Failed to get the Texts collection",t),[]}},a=async(t,e,n)=>{try{let c=(0,u.JU)(r.db,"texts",t);await (0,u.r7)(c,{comments:[...e,{date:new Date,content:n}]})}catch(t){console.error("Failed to add a comment to a Blog document",t)}}}},function(t){t.O(0,[358,863,678,138,971,23,744],function(){return t(t.s=4765)}),_N_E=t.O()}]);